# 酒店管理接口文档

## 1. 酒店管理接口

### 1.1 获取酒店列表

- **URL**: `/api/hotels`
- **方法**: GET
- **认证**: 无需认证
- **查询参数**:
  - `page`: 页码，默认为1
  - `size`: 每页数量，默认为10
  - `search`: 搜索关键词
  - `status`: 状态筛选(pending/approved/rejected)

- **响应**:
```json
{
  "code": 200,
  "message": "获取酒店列表成功",
  "data": {
    "content": [
      {
        "hotelId": 1,
        "name": "豪华大酒店",
        "description": "位于市中心的五星级酒店",
        "address": "北京市朝阳区建国路88号",
        "price": 899,
        "images": ["https://example.com/image1.jpg"],
        "rating": 4.8,
        "amenities": ["免费WiFi", "游泳池"],
        "status": "pending",
        "createdAt": "2024-01-01T00:00:00.000Z",
        "updatedAt": "2024-01-01T00:00:00.000Z"
      }
    ],
    "totalElements": 1,
    "totalPages": 1,
    "number": 1,
    "size": 10
  }
}
```

### 1.2 获取单个酒店详情

- **URL**: `/api/hotels/:id`
- **方法**: GET
- **认证**: 无需认证
- **路径参数**:
  - `id`: 酒店ID

- **响应**:
```json
{
  "code": 200,
  "message": "获取酒店详情成功",
  "data": {
    "hotelId": 1,
    "name": "豪华大酒店",
    "description": "位于市中心的五星级酒店",
    "address": "北京市朝阳区建国路88号",
    "price": 899,
    "images": ["https://example.com/image1.jpg"],
    "rating": 4.8,
    "amenities": ["免费WiFi", "游泳池"],
    "status": "pending",
    "createdAt": "2024-01-01T00:00:00.000Z",
    "updatedAt": "2024-01-01T00:00:00.000Z"
  }
}
```

### 1.3 创建酒店

- **URL**: `/api/hotels`
- **方法**: POST
- **认证**: 需要认证
- **请求体**:
```json
{
  "name": "新酒店",
  "description": "酒店描述",
  "address": "酒店地址",
  "price": 599,
  "amenities": ["免费WiFi", "停车场"]
}
```

- **响应**:
```json
{
  "code": 200,
  "message": "酒店创建成功",
  "data": {
    "hotelId": 2,
    "name": "新酒店",
    "description": "酒店描述",
    "address": "酒店地址",
    "price": 599,
    "images": [],
    "rating": 0,
    "amenities": ["免费WiFi", "停车场"],
    "status": "pending",
    "createdAt": "2024-01-01T00:00:00.000Z",
    "updatedAt": "2024-01-01T00:00:00.000Z"
  }
}
```

### 1.4 更新酒店信息

- **URL**: `/api/hotels/:id`
- **方法**: PUT
- **认证**: 需要认证（管理员权限）
- **路径参数**:
  - `id`: 酒店ID
- **请求体**:
```json
{
  "name": "更新后的酒店名称",
  "description": "更新后的描述",
  "address": "更新后的地址",
  "price": 699,
  "amenities": ["免费WiFi", "游泳池", "健身房"]
}
```

- **响应**:
```json
{
  "code": 200,
  "message": "酒店信息更新成功",
  "data": {
    "hotelId": 1,
    "name": "更新后的酒店名称",
    "description": "更新后的描述",
    "address": "更新后的地址",
    "price": 699,
    "images": ["https://example.com/image1.jpg"],
    "rating": 4.8,
    "amenities": ["免费WiFi", "游泳池", "健身房"],
    "status": "pending",
    "createdAt": "2024-01-01T00:00:00.000Z",
    "updatedAt": "2024-01-02T00:00:00.000Z"
  }
}
```

### 1.5 更新酒店状态

- **URL**: `/api/hotels/:id/status`
- **方法**: PUT
- **认证**: 需要认证（管理员权限）
- **路径参数**:
  - `id`: 酒店ID
- **请求体**:
```json
{
  "status": "approved"
}
```

- **响应**:
```json
{
  "code": 200,
  "message": "酒店状态已更新",
  "data": {
    "hotelId": 1,
    "name": "豪华大酒店",
    "status": "approved"
  }
}
```

### 1.6 删除酒店

- **URL**: `/api/hotels/:id`
- **方法**: DELETE
- **认证**: 需要认证（管理员权限）
- **路径参数**:
  - `id`: 酒店ID

- **响应**:
```json
{
  "code": 200,
  "message": "酒店删除成功",
  "data": null
}
```

## 2. 错误码说明

| 错误码 | 说明 |
|--------|------|
| 200 | 成功 |
| 400 | 请求参数错误 |
| 401 | 未授权 |
| 403 | 禁止访问 |
| 404 | 资源不存在 |
| 500 | 服务器内部错误 |

## 3. 认证方式

- 使用JWT Bearer Token认证
- 请求头需包含: `Authorization: Bearer <token>`
- Token有效期为2小时